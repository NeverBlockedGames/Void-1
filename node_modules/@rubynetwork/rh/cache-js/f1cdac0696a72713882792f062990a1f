/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
/* HouseHold LegacyMode */
(()=>{var Tt=Object.defineProperty,ge=Object.defineProperties,ce=Object.getOwnPropertyDescriptor,ue=Object.getOwnPropertyDescriptors;var Nt=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var St=(n,t,e)=>t in n?Tt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}): __set$(n,t,e) ,G=(n,t)=>{for(var e in t||(t={}))pe.call(t,e)&&St(n,e, __get$(t,e) );if(Nt)for(var e of Nt(t))de.call(t,e)&&St(n,e, __get$(t,e) );return n},Q=(n,t)=>ge(n,ue(t)),i=(n,t)=>Tt(n,"name",{value:t,configurable:!0});var u=(n,t,e,r)=>{for(var o=r>1?void 0:r?ce(t,e):t,s=n.length-1,a;s>=0;s--)(a= __get$(n,s) )&&(o=(r?a(t,e,o):a(o))||o);return r&&o&&Tt(t,e,o),o};var c=(n,t,e)=>(St(n,typeof t!="symbol"?t+"":t,e),e);var T=(n,t,e)=>new Promise((r,o)=>{var s=d=>{try{p(e.next(d))}catch(m){o(m)}},a=d=>{try{p(e.throw(d))}catch(m){o(m)}},p=d=>d.done?r(d.value):Promise.resolve(d.value).then(s,a);p((e=e.apply(n,t)).next())});var l={modules:["LegacyLayer","SignalsIds","SignalsBsc","SignalsVlp","SignalsTvp","SignalsAbs","SignalsAutoInsertion","DebugMode","GptMeasurement","TimeConfig","ContentMetrics","WeatherConfig","PgaTourConfig","BloombergConfig"],configs:{"RFY2NzM2NzI=":[0,1,2,3,4,5,6,7],RFYxMTQ3ODUx:[0,1,2,3,4,6],RFYxMTgwNTQx:[0,1,2,6],"RFY3NTk1MjA=":[0,1,2,3,4,5,6,8,9],RFYxMDI2NTMx:[0,1,2,3,4,6],"RFYzMTIwNDg=":[0,1,2,3,6],RFYxMTA2NzY0:[0,1,2,3,4,5,6],RFYxMjc5MjEw:[0,1,2,3,4,5,6],RFYxNDc0MjI5:[0,1,2,3,4,5,6],"RFY5MDI5MjM=":[0,1,2,3,4,6],"RFY2NTE3NDQ=":[0,1,2,3,4,5,6],"RFY5NzI5MzU=":[6],RFYxNDcyMjYy:[0,1,2,3,4,5,6,8],"RFY5NDU5ODg=":[0,1,2,3,4,5,6],RFYxMjcxNDU1:[0,1,2,6],"RFY0NjQwMzM=":[0,1,2,3,6],"RFY3MzQzNDI=":[0,1,2,3,4,5,6],"MTc0OTI1Mjg=":[0,1,2,3,6],RFYxNDc4NzM4:[0,1,2,3,4,5,6],"RFY4NDQ0Njg=":[0,1,2,3,4,5,6],RFYxNDc1MjY4:[0,5,6],RFYxMzMxNjkz:[0,1,2,3,4,6,8],RFYxMTY4NjQ0:[0,1,2,3,4,6],RFYxMzkwOTk3:[0,1,2,3,4,5,6,8],RFYxMjk4NzIy:[0,1,2,3,4,5,6],RFYxMDgzNzg4:[0,1,2,3,4,6],RFYxMTEwOTk0:[0,1,2,3,4,5,6],RFYxMDM2Nzc2:[0,1,2,5],RFYxMTA2MDA5:[0,1,2,3,4,5,6,7],RFYxNDUxNjcz:[0,1,2,6],"RFY5NzQ3MzI=":[],RFYxNDUyMzc3:[0,1,2,3,4,5,6,8],"RFY0NjQwNDE=":[0,1,2,3,5,6,8],"RFY2ODQzNDg=":[0,1,2,3,4,5,6],"RFY2NzUwMzg=":[0,1,2,3,4,6],RFYxMTQ5Mzg3:[0,1,2,6],RFYxMzI3NzYx:[0,1,2,6],"RFY4OTMwNTY=":[0,1,2],RFYxMjAwOTM3:[0,1,2,6],RFYxMTYxMjU5:[],RFYxMjgwMTY3:[0,1,2,6],"RFY2NDcwODg=":[0,1,2,3,4,6],RFYxNDIyMTQ1:[0,1,10,2,6],"RFY4MDU2MDE=":[0,1,3,4],RFYxMDEwNzI4:[0,1,2,3,4],RFYxMDcwMjkx:[0,5,6],RFYxMTg3NDkx:[0,1,2,3,4,6],RFYxMzY0NzM5:[0,1,2,3,4,5,6,8],RFYxNDE0MzUz:[0,1,2,3,4,6],RFYxNDc3NTM1:[0,1,2,3,4,5,6,8],RFYxNDU0MjMy:[0,1,2,3,4,6],RFYxMjQwMTY0:[0,1,2,6],RFYxNDYyMDkz:[6,7,8],RFYxNDQzMjkx:[0,1,2,3,4,6,8],"RFY3NDg3MjI=":[0,1,2,3,4,5,6],RFYxMDIzOTQ1:[0,5,6,8],RFYxMTcyOTg1:[0,1,2,3,4,5,6],"RFY4NjYwMjU=":[0,1,2,3,4,6],"RFY4MDkxOTk=":[0,1,2,3,4,6],"RFY3Nzc1NzY=":[0,1,2,3,4,6],RFYxMjcwNTgx:[0,1,2,6],"RFY3Nzc4ODU=":[0,1,2,3,4,6],"RFY5NzQ3MzA=":[0,1,2,3,4],RFYxNDQyNTIy:[0,1,2,6],"RFY3OTc2ODY=":[0,1,2,3,4,5,6],"RFY2NjkzNjE=":[0,1,2,3,4,6],RFYxMjAzNDUy:[0,1,11,2,3,4,6,8],RFYxNDQ1OTEw:[0,1,2,3,4,5,6],"RFYzNzQxNTg=":[0,1,2,3,6],RFYxMzM5NzY5:[0,1,2,3,4,5,6,8],"RFY5MTA2Mzg=":[0,1,2],RFYxMTQwNjg5:[6],RFYxMjYzOTgw:[0,1,2,6],RFYxNDQ2MDE5:[0,1,2,3,4,5,6,7,8],RFYxMTUzNjQ1:[0,1,2,6],RFYxMDExNDU1:[0,1,2,3,4,5,6],RFYxMzA3Mzc3:[0,1,2,3,4,5,6],RFYxMzM2ODcy:[0,1,2,6],RFYxMTA4MDIy:[0,1,2,6],"RFY4MzIzNDY=":[0,1,2,6],RFYxMjA4ODI5:[0,1,2,3,4,5,6],RFYxMzk1MTgy:[0,1,2,3,4,5,6],RFYxMjg5MDY0:[0,1,6],RFYxNDcyMjYw:[0,1,2,3,4,5,6],RFYxNDUxNzA5:[0,1,2,6],"RFY4MjE5MTg=":[0,1,2,3,4,6],RFYxMTgwNTc5:[0,1,2,6],RFYxMDcxNDY3:[0,1,2,3,4,5,6],RFYxMzk2MzM4:[0,2,3,4,6,8],RFYxMTQ1NzI5:[0,1,2,6],RFYxMTA4MTY0:[0,1,2,3,4,5,6],RFYxMzAwNjc0:[0,1,2,6],RFYxMTU3NzY0:[0,1,2,3,4,6],RFYxMDU4Nzk0:[0,1,2,3,4,6],RFYxMTMwNzQ4:[0,1,2,6],RFYxMjg4NjUw:[0,1,2,6],RFYxMjA4OTc5:[0,1,2,3,4,5],"RFY3MTA4Nzg=":[0,1,2,3,4,6],RFYxMzExMDk0:[0,1,3,6],"RFYxMTExMTE=":[0,1,2,3,4,6],"RFY0NjQwMjE=":[0,1,2,3,4,5,6],RFYxMjY0MTI2:[0,1,2,6],RFYxMDAxNjU0:[0,1,2,3,4,5,6],RFYxMjIzMzY5:[0,1,2,6],RFYxNDI4ODMy:[0,1,2,3,4,5,6,8],RFYxNDYxODQy:[0,1,2,6],"RFY0MjQ5NDA=":[0,1,2,3,6],RFYxMzg3OTYw:[12,6,8],RFYxMjQ2NzA1:[0,1,2,6],"RFY3MTg2ODU=":[0,1],"RFY5NDMzOTk=":[0,1,2,3,4,5,6],"RFY3OTI4NTU=":[0,1,3,6],"RFY4NjQ3ODc=":[0,5,6],RFYxNDczMDg4:[0,1,2,3,4,6],RFYxMzIzOTIy:[0,1,2,3,4,5,6],RFYxMzM5NzYy:[0,1,2,3,4],RFYxMDE2NjU2:[0,1,2,3,4,5,6],RFYxMjgwMTQ1:[0,1,2,6],RFYxNDc1MjYy:[0,1,2,3,4,5,6,8],"RFY5NDIxOTY=":[0,1,2,3,4,5,6],RFYxMzgyMTg1:[0,1,2,6],RFYxMzIzODg3:[0,1,3,6,8],RFYxMTYyMjEy:[0,1,2,6],RFYxNDc3NjE5:[0,1,2,3,4,5,6,8],"RFY5Nzg2NjI=":[6],RFYxNDMwNDc3:[0,5,6],"RFY4NDY4Mjc=":[0,5,6],RFYxNDYxODY2:[0,1,2,6],RFYxNDQ5NjYz:[0,1,10,2,3,4,5,6],RFYxNDQ1OTU1:[0,1,2,3,4,6,8],RFYxMjUwMjAy:[0,1,2,3,4,5,6],RFYxNDcwMjg3:[0,1,2,3,4,6,8],RFYxMDgwMjEy:[0,1,2,3,4,5,6,7,8],RFYxMzkwOTY5:[0,1,2,3,4,5,6,8],"RFY4MzIzNTM=":[0,1,2,6],RFYxMDQ0MzMw:[0,1,2,3,4,5,6],RFYxNDEyMDU2:[0,1,2,3,4,5,6,8],"RFY4OTY3MTQ=":[0,1,2,3,4,5,6],RFYxMDEyNjAw:[0,5],RFYxMjk5NDUw:[0,1,2,3,4,5,6,8],RFYxMjYzOTQ1:[0,1,2,6],RFYxMTA2NjUz:[0,1,2,3,4,5,6],RFYxNDM5Nzcx:[0,1,2,3,4,5,6],RFYxMzkyNjI0:[0,1,2,6],RFYxMzkyNTg1:[0,1,2,6],"RFY5NzQ3MzE=":[0,1,2,3,4],RFYxMzc5MTY2:[0,5,6],RFYxNDcxMjQy:[0,1,2,3,4,5,6,8],RFYxMTIyMjY4:[0,1,2,6],RFYxNDE4NjI4:[0,1,2,6],RFYxMTkzODQ2:[0,1,2,6],RFYxMzI3NzU0:[0,1,2,6],"RFY1ODc0MTQ=":[0,1,10,2,3,4,5,6],RFYxMTM2MTU2:[0,1,2,6],"RFYzNzU5MzU=":[0,1,2,3,6],RFYxNDYyNzYz:[0,1,13,2,6,8],RFYxMjkzODQ1:[0,5,6],"RFY2NzI1MjE=":[0,1,2,3,4,6],RFYxMzU1MjIz:[0,1,2,6],RFYxMzk3OTY1:[6],RFYxMzQ5NzQ2:[0,1,10,2,3,4,5,6,8],"RFY3NTc3MzA=":[0,1,2,3,4,6],"RFY0NjUxNTc=":[0,1,2,3,4,6,8]}};var yt={queueAdRequest:n=>{var t;try{(t=n.callback)==null||t.call(n),n.callback=null}catch(e){}},defineSlot:(n,t)=>{},getTargeting:n=>({}),addEventListener:(n,t)=>{},removeEventListener:(n,t)=>{},toggleDebugMode:()=>{console.log("%c[UT-DEBUG]%c Debug mode is not available for this tag.","color: red","color: intial")},onSlotVisibleForTime:(n,t,e)=>{}};var _t=class _t{constructor(){c(this,"isEntryModule",!0)}};i(_t,"EntryModule");var rt=_t;var gt=class gt{constructor(t){c(this,"_error");c(this,"_message","unknown");c(this,"_trace",[]);if(t instanceof gt)return t;t instanceof Error&&(this._error=t,this._message=t.message)}get error(){return this._error}get message(){return this._message}get trace(){return this._trace}addToTrace(t){this.trace.unshift(t)}};i(gt,"TracedError");var $=gt;var Et=class Et{constructor(t,e){c(this,"window");c(this,"dvtag");c(this,"modules",new Map);c(this,"errorHandlers",[]);c(this,"errors",[]);var r;this.window=e,this.window.dvtag=(r=this.window.dvtag)!=null?r:{},this.dvtag=this.window.dvtag,this.dvtag._core=this;for(let _hh$temp0 of Object.entries(yt)) {let _hh$temp1=__arrayFrom$(_hh$temp0),o=_hh$temp1[0],s=_hh$temp1[1];__set$(this.dvtag,o,s);} for(let o of t)this.createModule(o);for(let o of this.modules.values())this.applyModuleDecoration(o);for(let o of this.modules.values())this.applyErrorDecoration(o);for(let o of this.modules.values())this.applyPluginDecoration(o);for(let o of this.modules.values())this.applyApiDecoration(o);for(let o of this.modules.values())this.applyExecuteDecoration(o)}get moduleList(){return[...this.modules.keys()].map(t=>t.name)}get entryModuleList(){return[...this.modules.entries()].filter( _hh$temp2=>{var _hh$temp3=__arrayFrom$(_hh$temp2),t=_hh$temp3[0],e=_hh$temp3[1];return e instanceof rt;} ).map( _hh$temp4=>{var _hh$temp5=__arrayFrom$(_hh$temp4),t=_hh$temp5[0],e=_hh$temp5[1];return t.name;} )}get(t){return this.getModule(t).gateway}getByName(t){let e=[...this.modules.keys()].find(r=>r.name===t);return e!=null?this.get(e):null}getModule(t){let e=this.modules.get(t);if(e==null)throw new Error(`module not in core: ${t.name}`);return e}createModule(t){if(t.prototype.moduleConfig==null)throw new Error(`not a module: ${t.name}`);let e=new t;e.core=this,e.gateway={module:e},this.modules.set(t,e)}applyModuleDecoration(t){var o,s,a,p,d,m;let e=t.constructor.prototype.moduleConfig,r=t.constructor.name;for(let _hh$temp6 of e){ let h=_hh$temp6.method; let A= __get$(t,h) .bind(t),x=(a=(s=(o=this.dvtag._hooks)==null?void 0:o.interceptModule)==null?void 0: __get$(s,r) )==null?void 0: __get$(a,h) ,y=x==null?A:x.bind(t),U=(m=(d=(p=this.dvtag._hooks)==null?void 0:p.inspectModule)==null?void 0: __get$(d,r) )==null?void 0: __get$(m,h) ,P=U==null?y:(...k)=>{let S=y(...k);return U(k,S),S},ht=i((...k)=>{let S;try{S=P(...k)}catch(et){throw this.traceMethodError(t,h,k,et)}return S instanceof Promise?S.then(et=>et,et=>{throw this.traceMethodError(t,h,k,et)}):S},"traced"); __set$(t.gateway,h,ht) }if(t.plugins!=null){t.pluginFunctions={};for(let h of Object.keys(t.plugins)){ __set$(t.pluginFunctions,h,[]) ;let A= __get$(t.pluginFunctions,h) ; __set$(t.plugins,h,(...x)=>{let y=[];for(let U of A)try{y.push(U(...x));}catch(P){this.tracePluginError(t,h,P);}return y;}) }}}traceMethodError(t,e,r,o){let s=new $(o);return s.addToTrace(`${t.constructor.name}.${e}(${r.map(a=>typeof a).join(",")})`),s}traceExecuteError(t){let e=new $(t);return e.addToTrace("@execute"),this.handleSevereError(e),e}tracePluginError(t,e,r){let o=new $(r);return o.addToTrace(`@plugin(${t.constructor.name}, '${e}')`),this.handleSevereError(o),o}traceApiError(t,e){let r=new $(e);return r.addToTrace(`@api('${t}')`),this.handleSevereError(r),r}handleSevereError(t){for(let e of this.errorHandlers)try{e(t)}catch(r){}this.errors.length>10||this.errors.push({message:t.message,trace:t.trace})}applyErrorDecoration(t){var r;let e=(r=t.constructor.prototype.errorConfig)!=null?r:[];for(let _hh$temp7 of e) {let o=_hh$temp7.method;this.errorHandlers.push(__get$(t.gateway,o));} }applyPluginDecoration(t){var r;let e=(r=t.constructor.prototype.pluginConfig)!=null?r:[];for(let _hh$temp8 of e) {let o=_hh$temp8.PluggableClass,s=_hh$temp8.category,a=_hh$temp8.method;__get$(this.getModule(o).pluginFunctions,s).push(__get$(t.gateway,a));} }applyApiDecoration(t){var r;let e=(r=t.constructor.prototype.apiConfig)!=null?r:[];for(let _hh$temp9 of e) {let o=_hh$temp9.api,s=_hh$temp9.method;Object.defineProperty(this.dvtag,o,{value:(...a)=>{var p,d;try{return __call$(t.gateway,s,[...a]);}catch(m){return this.traceApiError(o,m),(d=__get$(p=yt,o))==null?void 0:d.call(p,...a);}},writable:!1});} }applyExecuteDecoration(t){return T(this,null,function*(){var r;let e=(r=t.constructor.prototype.executeConfig)!=null?r:[];for(let _hh$temp10 of e) {let o=_hh$temp10.method;try{yield __call$(t.gateway,o,[]);}catch(s){this.traceExecuteError(s);}} })}};i(Et,"Core");var nt=Et;var At=[],Ut=At;var f=i(n=>{let t=n.prototype,e=Object.getOwnPropertyNames(t).filter(r=>{var o;return r!=="constructor"&&((o=Object.getOwnPropertyDescriptor(t,r))==null?void 0:o.value)instanceof Function});t.moduleConfig=e.map(r=>({method:r})),At.push(n)},"moduleClass"),q=i(n=>t=>{},"attachModule"),H=i((n,t)=>{var e;n.executeConfig=(e=n.executeConfig)!=null?e:[],n.executeConfig.push({method:t})},"executeMethod"),ot=i((n,t)=>(e,r)=>{var o;e.pluginConfig=(o=e.pluginConfig)!=null?o:[],e.pluginConfig.push({PluggableClass:n,category:t,method:r})},"pluginMethod"),Y=i(n=>(t,e)=>{var r;t.apiConfig=(r=t.apiConfig)!=null?r:[],t.apiConfig.push({api:n,method:e})},"apiMethod"),zt=i((n,t)=>{var e;n.errorConfig=(e=n.errorConfig)!=null?e:[],n.errorConfig.push({method:t})},"errorMethod");var W=i((n,t)=>{var o,s,a,p;let e=n;e.googletag=(o=e.googletag)!=null?o:{},e.googletag.cmd=(s=e.googletag.cmd)!=null?s:[];let r=(p=(a=e.googletag).pubads)==null?void 0:p.call(a);r!=null?t(r):e.googletag.cmd.push(()=>{t(e.googletag.pubads())})},"onPubAdsReady");var fe=[[/((\?)|&)(?:amp_lite|fr=operanews)/g,"$2"],[/(^https?:\/\/)(www\.)/g,"$1"],[/(((\?)|&|%3F|%26|;)(?:utm_campaign|utm_source|utm_content|utm_term|utm_viral|utm_medium|utm_identifier|utm_key|fb_source|referrer|referer|ref|rand|rnd|randid|\.?rand|\.?partner|cb|count|adid|session|sessionid|session_redirect|param\d|userinfo|uid|refresh|ocid|ncid|clickenc|fbclid|amp_js_v|amp_gsa|ns_source|ns_campaign|ns_mchanel|ns_mchannel|ns_linkname|ns_fee|src|ex_cid|usqp|source|xid|trkid|utm_social-type|mbid|utm_brand|__twitter_impression|utm_referrer|CMP|cmp|_cmp|cq_cmp)=[^&]*)/g,"$3"],[/[/.]amp(?:\/[?&]*)?$/g,""],[/((\?)|&)(?:outputType|isFollow|suppressMediaBar|cid|ICID|icid|bdk|wtu_id_h|utm_placement|intcmp|_native_ads|traffic_source|entry|\.tsrc|autoplay|autostart|dc_data|influencer|pubdate|utm_hp_ref|redirect|service|refresh_ce|refresh_cens|xcmg|target_id|_amp)=[^&]*/g,"$2"],[/(\?|&)(?:amp)(?:&|$|=[^&]*)/g,"$1"]],he=[[/(?:\/|\/\?|\?|&|\/\$0|#[\s\S]*)+$/g,""],[/(?:\/|\/\?|\?|&|\/\$0|#[\s\S]*)+$/g,""]],jt=i((n,t)=>{for(let _hh$temp11 of n) {let _hh$temp12=__arrayFrom$(_hh$temp11),e=_hh$temp12[0],r=_hh$temp12[1];t=__call$(t,"replace",[e,r]);} return t},"replaceByRules"),Ft=i(n=>{let t=jt(fe,n);return jt(he,t)},"normalizeUrl");var Qt=i(n=>n.split("?",1)[0].split("#",1)[0],"stripUrlQuery");var ct,Se=new Uint8Array(16);function vt(){if(!ct&&(ct=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ct))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ct(Se)}i(vt,"rng");var _=[];for(let n=0;n<256;++n)_.push((n+256).toString(16).slice(1));function qt(n,t=0){return  __get$(_,__get$(n,t+0)) + __get$(_,__get$(n,t+1)) + __get$(_,__get$(n,t+2)) + __get$(_,__get$(n,t+3)) +"-"+ __get$(_,__get$(n,t+4)) + __get$(_,__get$(n,t+5)) +"-"+ __get$(_,__get$(n,t+6)) + __get$(_,__get$(n,t+7)) +"-"+ __get$(_,__get$(n,t+8)) + __get$(_,__get$(n,t+9)) +"-"+ __get$(_,__get$(n,t+10)) + __get$(_,__get$(n,t+11)) + __get$(_,__get$(n,t+12)) + __get$(_,__get$(n,t+13)) + __get$(_,__get$(n,t+14)) + __get$(_,__get$(n,t+15)) }i(qt,"unsafeStringify");var Te=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xt={randomUUID:Te};function ye(n,t,e){if(xt.randomUUID&&!t&&!n)return xt.randomUUID();n=n||{};let r=n.random||(n.rng||vt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(let o=0;o<16;++o) __set$(t,e+o,__get$(r,o)) ;return t}return qt(r)}i(ye,"v4");var wt=ye;var I=i(()=>wt(),"uuid");var Vt=i((n,t)=>{try{let e=new URLSearchParams(n),r=e.get("ctx"),o=e.get("cmp");if(r!=null&&o!=null)return{ctx:r,cmp:o,prefetch:t,legacy:!0}}catch(e){}return null},"parseInfo"),Kt=i(n=>{var t;return n.pathname!=="/signals/pub.js"?null:(t=Vt(n.search,!0))!=null?t:Vt(n.hash.substring(1),!1)},"parseLegacyPagetagUrl");var _e=/^\/dvtag\/([^/]+)\/([^/]+)\/pub\.js$/,E=class{constructor(){c(this,"visitUuid",I());c(this,"tagInfo");c(this,"normalizedUrl")}_initialize(){this.getTagInfo()}getTagInfo(){var t;if(this.tagInfo==null){try{this.tagInfo=this._parseTagInfo()}catch(e){}(t=this.tagInfo)!=null||(this.tagInfo={ctx:"unknown",cmp:"unknown"})}return this.tagInfo}getVisitUuid(){return this.visitUuid}_parseTagInfo(){let t=this.getCurrentScriptSrc();if(t==null)return null;let e=new URL(t,"https://pub.doubleverify.com"),r=e.pathname,o=_e.exec(r);if(o!=null){ let _hh$temp13=__arrayFrom$(o),s=_hh$temp13[1],a=_hh$temp13[2]; return{ctx:s,cmp:a}}return Kt(e)}getCurrentScriptSrc(){var t,e;return(e=(t=this.core.window.document.currentScript)==null?void 0:t.getAttribute("src"))!=null?e:null}getStrippedPageUrl(){return Qt( __get$(__get$(this.core.window,"location"),"href") )}getNormalizedPageUrl(){var e;let t=this.getStrippedPageUrl();return((e=this.normalizedUrl)==null?void 0:e.stripped)!==t&&(this.normalizedUrl={stripped:t,normalized:Ft( __get$(__get$(this.core.window,"location"),"href") )}),this.normalizedUrl.normalized}};i(E,"Context"),u([H],E.prototype,"_initialize",1),E=u([f],E);var C=class{getShortCommitId(){return"5571998"}getBuildTimestamp(){return 1726884031125}getAuthToken(){return typeof AUTH_TOKEN=="undefined"?"default":AUTH_TOKEN}};i(C,"DefinedVariables"),C=u([f],C);var V=class{getWindow(){return this.core.window}getDocument(){return this.getWindow().document}getUserAgent(){var t,e;return(e=(t=this.getWindow().navigator)==null?void 0:t.userAgent)!=null?e:""}getPageUrl(){var t,e;return(e=(t= __get$(this.getWindow(),"location") )==null?void 0: __get$(t,"href") )!=null?e:""}getHostname(){return new URL(this.getPageUrl()).hostname}getNavigator(){return this.getWindow().navigator}getPerformance(){var t;return(t=this.getWindow().performance)!=null?t:{}}getPerformanceTimeMs(){var t,e,r;return Math.floor((r=(e=(t=this.getPerformance()).now)==null?void 0:e.call(t))!=null?r:null)}};i(V,"Environment"),V=u([f],V);var bt=class bt{constructor(){c(this,"pending",[]);c(this,"flushing",!1)}push(t){this.pending.push(t),this.flush()}flush(){return T(this,null,function*(){var e;if(this.flushing)return;this.flushing=!0;let t=this.pending.shift();for(;t!=null;){try{yield t.promise}catch(r){}try{(e=t.callback)==null||e.call(t)}catch(r){}t=this.pending.shift()}this.flushing=!1})}};i(bt,"AsyncQueue");var ut=bt;var v=class{constructor(){c(this,"plugins",{adRequestQueued:t=>[],adRequestTimedOut:t=>[],adRequestBeforeRelease:t=>[],adRequestCompleted:t=>[]});c(this,"queue",new ut);c(this,"adRequestCounter",0)}_queueAdRequest(t={}){var s,a;let e={index:this.adRequestCounter++,status:"queued",timeoutValue:(s=t.timeout)!=null?s:0,onDvtagReadyCalled:(a=t.timestamp)!=null?a:0,waitingStarted:new Date().getTime(),internal:t.internal};this.plugins.adRequestQueued(e);let r=t.callback;r===void 0?t.callback=()=>{}:r===null?e.status="tag-timeout":t.callback=()=>{e.status="queue-timeout",e.callbackCalled=new Date().getTime(),t.callback=null,this.plugins.adRequestTimedOut(e);try{r()}catch(p){}};let o=i(()=>{if(t.callback!=null){t.callback=null,e.status="success",e.callbackCalled=new Date().getTime(),this.plugins.adRequestBeforeRelease(e);try{r==null||r()}catch(p){}}else this.plugins.adRequestBeforeRelease(e);e.waitingEnded=new Date().getTime(),this.plugins.adRequestCompleted(e)},"onAsyncOperationsCompleted");this.queue.push({callback:o,adRequest:e})}delayAdRequests(t){this.queue.push({promise:t})}};i(v,"AdRequestQueue"),u([Y("queueAdRequest")],v.prototype,"_queueAdRequest",1),v=u([f],v);var Ae="https://vtrk.doubleverify.com",Ue=1,Pt=1,w=class{constructor(){c(this,"sharedDataPoints")}_onAdRequestCompleted(t){if(t.index!==0)return; let _hh$temp14=t,e=_hh$temp14.timeoutValue,r=_hh$temp14.onDvtagReadyCalled,o=_hh$temp14.callbackCalled,s=o!=null?o-r:e; this.fireEvent("ad-request",{cd111:t.status,cm106:t.index,cm107:s,cd112:t.internal?"legacy":"modern"},{sampleInterval:Pt})}_handleError(t){this.fireEvent("log",{cd111:"error",cd112:t.message,cd113:t.trace.join("=>")},{sampleInterval:Ue})}_getSharedDataPoints(){if(this.sharedDataPoints==null){ let t=this.core.get(E),e=this.core.get(C),r=this.core.get(V),_hh$temp15=t.getTagInfo(),o=_hh$temp15.ctx,s=_hh$temp15.cmp,a=_hh$temp15.legacy,p=r.getHostname(),d=t.getVisitUuid(),m=e.getShortCommitId(); this.sharedDataPoints={cd102:m,cd103:"",cd107:d,cd109:a?"legacy":"modern",cd108:"",cd105:o,cd106:s,cd104:p}}return this.sharedDataPoints}fireEvent(t,e, _hh$temp16 ={}){ var _hh$temp16$sampleInterval=_hh$temp16.sampleInterval,r=_hh$temp16$sampleInterval===void 0?1:_hh$temp16$sampleInterval,_hh$temp16$trackerUuid=_hh$temp16.trackerUuid,o=_hh$temp16$trackerUuid===void 0?I():_hh$temp16$trackerUuid; if(Math.random()>=1/r)return;e=Q(G(G({},e),this._getSharedDataPoints()),{cd101:t,cm101:r});let s=Q(G({ec:"dvtag",ea:e.cd101,ctx:e.cd105,cmp:e.cd106},e),{cid:o,t:"event",v:1,z:o,cd160:o}),a=new URL(Ae);for(let _hh$temp17 of Object.entries(s)) {let _hh$temp18=__arrayFrom$(_hh$temp17),p=_hh$temp18[0],d=_hh$temp18[1];d!=null&&a.searchParams.set(p,`${d}`);} this._sendBeacon( __get$(a,"href") )}_sendBeacon(t){try{typeof(navigator==null?void 0:navigator.sendBeacon)=="function"?navigator.sendBeacon(t):new Image().src=t}catch(e){}}};i(w,"Events"),u([ot(v,"adRequestCompleted")],w.prototype,"_onAdRequestCompleted",1),u([zt],w.prototype,"_handleError",1),w=u([f],w);var it=["BSC","ABS","CCT"],It=["IDS"],st=["VLP","TVP"],Ct=[...it,...It,...st],pt=[...it,...It,...st].filter(n=>n!=="CCT"),Rt=i(n=>Ct.includes(n.toUpperCase()),"isSignal"),dt=i(n=>st.includes(n.toUpperCase()),"isSlotSignal"),Bt=i(n=>It.includes(n.toUpperCase()),"isUserSignal"),$t=i(n=>it.includes(n.toUpperCase()),"isPageSignal"),Ht=i(n=>n.map(t=>t.toUpperCase()).filter(Rt),"asSignals");var R=class{constructor(){c(this,"pq",null)}getPq(){return this.pq==null&&(this.pq=this._initialize()),this.pq}getPts(){return this.getPq().PTS}setApi(t){let e=this.getPq();e!=null&&(e.init=()=>{},e.loadSignals=t.loadSignals,e.loadSignalsForSlots=t.loadSignalsForSlots,e.getTargeting=t.getTargeting)}_pushToDvtagCmd(...t){var e;this.core.dvtag.cmd=(e=this.core.dvtag.cmd)!=null?e:[],this.core.dvtag.cmd.push(...t)}_initialize(){var r,o;this.core.window.PQ=(r=this.core.window.PQ)!=null?r:{};let t=this.core.window.PQ;if(t.loaded)return{cmd:[],PTS:{}};t.loaded=!0,t.PTS=(o=t.PTS)!=null?o:{};let e=t.cmd;return t.cmd={push:s=>this._pushToDvtagCmd(s)},Array.isArray(e)&&this._pushToDvtagCmd(...e),t}};i(R,"LegacyPq"),R=u([f],R);var J=i(n=>{if(n==null)return[];let t=Yt(n);return t!=null?[t]:Array.isArray(n)?n.map(Yt).filter(e=>e!=null):[]},"parseSlotSizes"),Yt=i(n=>{if(n==null)return null;if(typeof n=="string")return{label:n};if(Array.isArray(n)){if(n.length===1&&typeof n[0]=="string")return{label:n[0]};if(n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number")return{width:n[0],height:n[1]}}if(typeof n=="object"){ let _hh$temp19=n,t=_hh$temp19.label,e=_hh$temp19.width,r=_hh$temp19.height; if(typeof e=="number"&&typeof r=="number")return{width:e,height:r};if(typeof t=="string")return{label:t}}return null},"parseSlotSize");var ve=/^(\d+)x(\d+)$/,Wt=i(n=>n==="all"?[]:n.split(",").map(t=>{let e=t.match(ve);return e==null?{label:t}:{width:parseInt(e[1],10),height:parseInt(e[2],10)}}),"stringToSlotSizes"),at=i(n=>n.length===0?"all":n.map( _hh$temp20=>{var t=_hh$temp20.width,e=_hh$temp20.height,r=_hh$temp20.label;return r!=null?r:`${t}x${e}`;} ).join(","),"slotSizesToString"),Xt=i(n=>n==null?"":n.length>0&&n.every( _hh$temp21=>{var r=_hh$temp21.label;return r==null;} )?at(n):"","slotSizesToStringIfSpecific");var Jt=i(n=>{var r,o,s;let t=I(),e={id:(o=(r=n.adUnitPath)!=null?r:n.invCode)!=null?o:n.tagId,sizes:J(Wt((s=n.sizes)!=null?s:"all")),position:n.position};return{elementId:t,adUnit:e}},"parseLegacyAdUnit");var Zt=i(n=>{try{return n.getSizes()}catch(t){return[]}},"getGptSlotSizesSafe");var te="dvp_spos";var ee=i(n=>({elementId:n.getSlotElementId(),adUnit:{id:n.getAdUnitPath(),sizes:J(Zt(n)),position:n.getTargeting(te)[0]}}),"parseLegacyGptSlot");var re=i((n,t)=>(t==null?void 0:t.structuredClone)!=null?t.structuredClone(n):JSON.parse(JSON.stringify(n)),"deepClone");var Z="qt_loaded",ft="pts_pid",ne="pts_sid",Lt=class Lt extends Error{constructor(e,r){super(r);this.code=e}};i(Lt,"QtError");var mt=Lt;var oe=i((n,t)=>{var o;let e=(o=n.IDS)==null?void 0:o[0];if(e==null)return;let r=parseInt(e);isNaN(r)||(t.IDS=r)},"setUserTargetingOnPts"),ie=i((n,t)=>{for(let e of it) __get$(n,e) !=null&&( __set$(t,e,__get$(n,e)) )},"setPageTargetingOnPts"),se=i((n,t,e)=>{var p,d,m,h,A,x; let _hh$temp22=n,r=_hh$temp22.adUnit; if((r==null?void 0:r.id)==null)return;let o=r.id,s=at((p=r.sizes)!=null?p:[]),a=r.position;for(let y of st){let U= __get$(t,y) ;U!=null&&((d= __get$(e,y) )!=null||( __set$(e,y,{}) ),(h= __get$(m=__get$(e,y),o) )!=null||( __set$(m,o,{}) ), __set$(__get$(__get$(e,y),o),s,U[0]) ,a!=null&&((x= __get$(A=__get$(__get$(e,y),o),a) )!=null||( __set$(A,a,{}) ), __set$(__get$(__get$(__get$(e,y),o),a),s,U[0]) ))}},"setSlotTargetingOnPts");var Mt=i(n=>[...new Set(n.filter(Rt).map(t=>t.toLowerCase()))],"getGreenlightSignal");var K=class{autoInsertPageId(){let e=this.core.get(E).getVisitUuid();W(this.core.window,r=>{r.setTargeting(ft,e)})}autoInsertGlobalTargeting(t){W(this.core.window,e=>{for(let _hh$temp23 of Object.entries(t)) {let _hh$temp24=__arrayFrom$(_hh$temp23),r=_hh$temp24[0],o=_hh$temp24[1];e.setTargeting(r,o);} e.setTargeting(Z,Mt([...e.getTargeting(Z),...Object.keys(t)]))})}autoInsertSlotId(t){W(this.core.window,e=>{let r=e.getSlots().find(o=>o.getSlotElementId()===t.elementId);r!=null&&r.setTargeting(ne,t.uuid)})}autoInsertSlotTargeting(t,e){W(this.core.window,r=>{let o=r.getSlots().find(s=>s.getSlotElementId()===t.elementId);if(o!=null){for(let _hh$temp25 of Object.entries(e)) {let _hh$temp26=__arrayFrom$(_hh$temp25),s=_hh$temp26[0],a=_hh$temp26[1];o.setTargeting(s,a);} o.setTargeting(Z,Mt([...r.getTargeting(Z),...o.getTargeting(Z),...Object.keys(e)]))}})}};i(K,"LegacyModeAutoInsertion"),K=u([f],K);var L=class{constructor(){c(this,"cache",{})}_performFetchJson(t,e){return T(this,null,function*(){let r=t;if(e!=null&&e.authToken){let a=this.core.get(C).getAuthToken(),p=new URL(t);p.searchParams.set("token",a),r= __get$(p,"href") }let o=yield this.core.window.fetch(r);return{json:yield o.json(),headers:o.headers}})}fetchJson(t,e){return T(this,null,function*(){let r= __get$(this.cache,t) ;return r==null&&(r=this._performFetchJson(t,e).then(o=>o.json), __set$(this.cache,t,r) ),r})}};i(L,"Fetch"),L=u([f],L);var ae=i(n=>n==null?"":`@${n}`,"getPositionSuffix");var xe="https://pub.doubleverify.com/dvtag/signals/",O=class{_getBaseUrl(t){ let e=this.core.get(E),_hh$temp27=e.getTagInfo(),r=_hh$temp27.ctx,o=_hh$temp27.cmp,s=e.getNormalizedPageUrl(); try{s=new URL(s).origin}catch(p){}let a=new URL(t,xe);return a.searchParams.set("ctx",r),a.searchParams.set("cmp",o),a.searchParams.set("url",s),a}getUserTargetingUrl(t){let e=this._getBaseUrl("ids/pub.json");return t.includes("IDS")&&e.searchParams.set("ids","1"), __get$(e,"href") }getPageTargetingUrl(t,e){let r=this._getBaseUrl("bsc/pub.json");return r.searchParams.set("url",e),t.includes("BSC")&&r.searchParams.set("bsc","1"),t.includes("ABS")&&r.searchParams.set("abs","1"),t.includes("CCT")&&r.searchParams.set("cct","1"), __get$(r,"href") }getSlotTargetingUrl(t,e){var s;let r=this._getBaseUrl("vlp/pub.json");t.includes("VLP")&&r.searchParams.set("vlp","1"),t.includes("TVP")&&r.searchParams.set("tvp","1");let o=0;for(let a of e){ let _hh$temp28=(s=a.adUnit)!=null?s:{},p=_hh$temp28.id,d=_hh$temp28.position,m=_hh$temp28.sizes,h=p+ae(d); r.searchParams.set(`slot-${o++}-${h}`,Xt(m))}return  __get$(r,"href") }};i(O,"SignalsUrlBuilder"),O=u([f],O);var B=class{_getUserTargeting(t){return T(this,null,function*(){if(!t.some(Bt))return{};let e=this.core.get(O).getUserTargetingUrl(t);try{return yield this.core.get(L).fetchJson(e,{authToken:!0})}catch(r){return{}}})}_getPageTargeting(t){return T(this,null,function*(){if(!t.some($t))return{};let e=this.core.get(E).getNormalizedPageUrl(),r=this.core.get(O).getPageTargetingUrl(t,e);try{return yield this.core.get(L).fetchJson(r,{authToken:!0})}catch(o){return{}}})}_getSlotTargeting(t,e){return T(this,null,function*(){if(!t.some(dt)||e.length===0)return new Array(e.length).fill({});let r=this.core.get(O).getSlotTargetingUrl(t,e);try{let o=yield this.core.get(L).fetchJson(r,{authToken:!0});return o.length!==e.length?new Array(e.length).fill({}):o.map(s=>Object.fromEntries(Object.entries(s).map( _hh$temp29=>{var _hh$temp30=__arrayFrom$(_hh$temp29),a=_hh$temp30[0],p=_hh$temp30[1];return[a,[p[0]]];} )))}catch(o){return new Array(e.length).fill({})}})}getTargeting(t,e){return T(this,null,function*(){ let _hh$temp31=__arrayFrom$(yield Promise.all([this._getUserTargeting(t),this._getPageTargeting(t),this._getSlotTargeting(t,e)])),r=_hh$temp31[0],o=_hh$temp31[1],s=_hh$temp31[2]; return{userTargeting:r,pageTargeting:o,slotTargeting:s}})}};i(B,"LegacyModeFetchTargeting"),B=u([f],B);var we={SignalsIds:"IDS",SignalsBsc:"BSC",SignalsAbs:"ABS",SignalsVlp:"VLP",SignalsTvp:"TVP"},be="SignalsAutoInsertion",M=class{constructor(){c(this,"validConfigFound");c(this,"enabledSignals");c(this,"autoInsertionEnabled")}isValidConfigFound(){return this._initialize(),this.validConfigFound}isSignalEnabled(t){return this._initialize(),t!=null&&this.enabledSignals.includes(t)}isAutoInsertionEnabled(){return this._initialize(),this.autoInsertionEnabled}_initialize(){if(this.validConfigFound!=null)return;let t;try{t=this._getEntryModules()}catch(e){this.validConfigFound=!0,this.enabledSignals=Ct,this.autoInsertionEnabled=!0;return}if(t==null){this.validConfigFound=!1,this.enabledSignals=[],this.autoInsertionEnabled=!1;return}this.validConfigFound=!0,this.enabledSignals=t.map(e=> __get$(we,e) ).filter(e=>e!=null),this.autoInsertionEnabled=t.includes(be)}_getEntryModules(){ let _hh$temp32=this.core.get(E).getTagInfo(),t=_hh$temp32.cmp,e=btoa(t),_hh$temp33=l,r=_hh$temp33.modules,o=_hh$temp33.configs,s=__get$(o,e); return s==null?null:s.map(a=> __get$(r,a) )}};i(M,"TagConfig"),M=u([f],M);var le=i((n,t)=>{var s,a,p,d;let e=[],r=[],o=[];if(t.VLP==null)return{newSlots:n,existingSlots:r,existingTargeting:o};for(let m of n){ let _hh$temp34=m.adUnit,h=_hh$temp34.id,A=_hh$temp34.sizes,x=at(A),y=(a=(s=t.VLP)==null?void 0:__get$(s,h))==null?void 0:__get$(a,x); if(y==null){e.push(m);continue}r.push(m);let U=(d=(p=t.TVP)==null?void 0: __get$(p,h) )==null?void 0: __get$(d,x) ,P={};y!=null&&(P.VLP=[y]),U!=null&&(P.TVP=[U]),o.push(P)}return{newSlots:e,existingSlots:r,existingTargeting:o}},"processNewSlots");var D=class{performFetches(t,e,r,o){return T(this,null,function*(){let s=this.core.get(B),a=this.core.get(K),p=this.core.get(M),m=this.core.get(R).getPts();if(!p.isValidConfigFound())throw new mt("404","Config not found!"); let h=Ht(t).filter(S=>p.isSignalEnabled(S)).filter(S=>dt(S)||__get$(m,S)==null),_hh$temp35=o?le(e,m):{newSlots:e,existingSlots:[],existingTargeting:[]},A=_hh$temp35.newSlots,x=_hh$temp35.existingSlots,y=_hh$temp35.existingTargeting; e=[...A,...x]; let _hh$temp36=yield s.getTargeting(h,A),U=_hh$temp36.userTargeting,P=_hh$temp36.pageTargeting,ht=_hh$temp36.slotTargeting,k=[...ht,...y]; oe(U,m),ie(P,m);for(let S=0;S<e.length;S++)se( __get$(e,S) , __get$(k,S) ,m);if(r&&p.isAutoInsertionEnabled()){a.autoInsertPageId(),a.autoInsertGlobalTargeting(U),a.autoInsertGlobalTargeting(P);for(let S=0;S<e.length;S++)a.autoInsertSlotId( __get$(e,S) ),a.autoInsertSlotTargeting( __get$(e,S) , __get$(k,S) )}return re(m,this.core.window)})}};i(D,"LegacyModePerformFetches"),D=u([f],D);var Dt="legacy-success",kt="legacy-error",X=class{constructor(){c(this,"_slotUuids",{});c(this,"_metricEventCount",0)}_initialize(){this.core.get(R).setApi({loadSignals:this.loadSignals.bind(this),loadSignalsForSlots:this.loadSignalsForSlots.bind(this),getTargeting:this.getTargeting.bind(this)})}loadSignals(t,e){return T(this,null,function*(){let r=this.core.get(D),o=this.core.get(M),s=this._prepareMetricEvent(),p=o.isSignalEnabled("VLP")||o.isSignalEnabled("TVP")?yield this._getSlots():[],d=!0,m=!1;try{yield r.performFetches(pt,p,d,m);try{e==null||e()}catch(h){}s(Dt)}catch(h){try{e==null||e(h)}catch(A){}s(kt)}})}loadSignalsForSlots(t,e,r){return T(this,null,function*(){let o=this.core.get(D),s=this._prepareMetricEvent(),a=t.map(m=>this._parseGptSlot(m)),p=!0,d=!0;r=typeof e=="function"?e:r;try{yield o.performFetches(pt,a,p,d);try{r==null||r()}catch(m){}s(Dt)}catch(m){try{r==null||r(m)}catch(h){}s(kt)}})}getTargeting(t,e){return T(this,null,function*(){var d,m;let r=this.core.get(D),o=this._prepareMetricEvent(),s=(m=(d=t.adUnits)==null?void 0:d.map(h=>this._parseAdUnit(h)))!=null?m:[],a=!1,p=!1;try{let h=yield r.performFetches(pt,s,a,p);try{e==null||e(void 0,h)}catch(A){}o(Dt)}catch(h){try{e==null||e(h)}catch(A){}o(kt)}})}_getSlots(){return T(this,null,function*(){return(yield new Promise(e=>W(this.core.window,r=>e(r.getSlots())))).map(e=>this._parseGptSlot(e))})}_getSlotUuid(t){let e= __get$(this._slotUuids,t) ;return e==null&&(e=I(), __set$(this._slotUuids,t,e) ),e}_parseGptSlot(t){ let _hh$temp37=ee(t),e=_hh$temp37.elementId,r=_hh$temp37.adUnit; return{elementId:e,uuid:this._getSlotUuid(r.id),adUnit:Q(G({},r),{position:null})}}_parseAdUnit(t){ let _hh$temp38=Jt(t),e=_hh$temp38.adUnit; return{elementId:e.id,uuid:this._getSlotUuid(e.id),adUnit:Q(G({},e),{position:null})}}_prepareMetricEvent(){let t=this.core.get(w);if(this._metricEventCount>0)return()=>{};this._metricEventCount++;let e=new Date().getTime();return r=>t.fireEvent("ad-request",{cd111:r,cm106:0,cm107:new Date().getTime()-e,cd112:"legacy"},{sampleInterval:Pt})}};i(X,"LegacyMode"),u([H],X.prototype,"_initialize",1),X=u([f],X);var Gt=class Gt{constructor(t,e,r,o,s){this._slotStore=t;this.source=e;this.elementId=r;this.adUnit=o;this._targetable=s;c(this,"uuid");c(this,"_variables",new Map);c(this,"_targeting",{});c(this,"_flushedTargeting",{});this.uuid=I()}setVariable(t,e){this._variables.set(t,e)}getVariable(t){return this._variables.get(t)}clearVariable(t){this._variables.delete(t)}getUptTargetingKeys(){return[...new Set([...Object.keys(this._targeting),...this._slotStore.getUptPageTargetingKeys()])]}getUptTargetingForKey(t){var e;return[... new Set([...(e=__get$(this._targeting,t))!=null?e:[],...this._slotStore.getUptPageTargetingForKey(t)]) ]}getUptTargeting(){let t={};for(let e of this.getUptTargetingKeys()) __set$(t,e,this.getUptTargetingForKey(e)) ;return t}setUptSlotTargeting(t){for(let _hh$temp39 of Object.entries(t)) {let _hh$temp40=__arrayFrom$(_hh$temp39),e=_hh$temp40[0],r=_hh$temp40[1];__set$(this._targeting,e,[...new Set(r)]),this.flushUptTargetingToAdServer(e);} }addUptSlotTargeting(t){var e;for(let _hh$temp41 of Object.entries(t)) {let _hh$temp42=__arrayFrom$(_hh$temp41),r=_hh$temp42[0],o=_hh$temp42[1];__set$(this._targeting,r,[...new Set([...(e=__get$(this._targeting,r))!=null?e:[],...o])]),this.flushUptTargetingToAdServer(r);} }getAdServerTargeting(t){var e,r;return(r=(e=this._targetable)==null?void 0:e.getTargeting(t))!=null?r:[]}flushUptTargetingToAdServer(t){var o;if(this._targetable==null)return;let e=(o= __get$(this._flushedTargeting,t) )!=null?o:[],r=this.getUptTargetingForKey(t);(e.length!==r.length||r.sort().some((s,a)=> __get$(e,a) !==s))&&(this._targetable.setTargeting(t,this.getUptTargetingForKey(t)), __set$(this._flushedTargeting,t,r) )}forceFlushAllUptTargetingToAdServer(){this._targetable!=null&&(this._flushedTargeting={},this.getUptTargetingKeys().forEach(t=>this.flushUptTargetingToAdServer(t)))}validateAdServerTargeting(){let t=2;for(let e of this.getUptTargetingKeys()){let r=this.getUptTargetingForKey(e),o=this.getAdServerTargeting(e);if(r.length>o.length||r.some(s=>!o.includes(s)))return 0;o.length>r.length&&(t=1)}return t}};i(Gt,"Slot");var lt=Gt;var b=class{constructor(){c(this,"plugins",{slotDiscovered:(t,e)=>[],slotDestroyed:t=>[]});c(this,"_slots",{});c(this,"_pageTargeting",{})}getSlot(t,e){var r;return(r= __get$(this._slots,t) )==null?void 0: __get$(r,e) }getSlots(t){var e;if(t==null){let r=[];for(let o of Object.values(this._slots))r.push(...Object.values(o));return r}return Object.values((e= __get$(this._slots,t) )!=null?e:{})}createSlot(t,e,r,o,s,a){var m,h;let p=this.getSlot(t,r);p!=null&&this.plugins.slotDestroyed(p);let d=new lt(this,t,r,o,s);(h= __get$(m=this._slots,t) )!=null||( __set$(m,t,{}) ), __set$(__get$(this._slots,t),r,d) ;for(let A of Object.keys(this._pageTargeting))d.flushUptTargetingToAdServer(A);return a==null||a(d),this.plugins.slotDiscovered(d,e),d}getUptPageTargetingKeys(){return Object.keys(this._pageTargeting)}getUptPageTargetingForKey(t){var e;return(e= __get$(this._pageTargeting,t) )!=null?e:[]}getUptPageTargeting(){let t={};for(let _hh$temp43 of Object.entries(this._pageTargeting)) {let _hh$temp44=__arrayFrom$(_hh$temp43),e=_hh$temp44[0],r=_hh$temp44[1];__set$(t,e,[...r]);} return t}setUptPageTargeting(t){for(let _hh$temp45 of Object.entries(t)) {let _hh$temp46=__arrayFrom$(_hh$temp45),e=_hh$temp46[0],r=_hh$temp46[1];__set$(this._pageTargeting,e,[...new Set(r)]);} this._flushUptPageTargetingToAdServer(Object.keys(t))}addUptPageTargeting(t){var e;for(let _hh$temp47 of Object.entries(t)) {let _hh$temp48=__arrayFrom$(_hh$temp47),r=_hh$temp48[0],o=_hh$temp48[1];__set$(this._pageTargeting,r,[...new Set([...(e=__get$(this._pageTargeting,r))!=null?e:[],...o])]);} this._flushUptPageTargetingToAdServer(Object.keys(t))}_flushUptPageTargetingToAdServer(t){for(let e of Object.values(this._slots))for(let r of Object.values(e))for(let o of t)r==null||r.flushUptTargetingToAdServer(o)}};i(b,"SlotStore"),b=u([f],b);var Pe=ft,N=class{constructor(){c(this,"restoreCount",0)}getRestoreCount(){return this.restoreCount}_restoreTargeting(){for(let t of this.core.get(b).getSlots())t.getAdServerTargeting(Pe).length===0&&(t.forceFlushAllUptTargetingToAdServer(),this.restoreCount+=1)}};i(N,"TargetingRestorer"),u([ot(v,"adRequestQueued")],N.prototype,"_restoreTargeting",1),N=u([f],N);var z=class{constructor(){c(this,"initialized",!1);c(this,"size",0)}_initialize(){return T(this,null,function*(){if(yield Promise.resolve(),this.initialized)return;this.initialized=!0,this.core.dvtag.cmd instanceof Array||(this.core.dvtag.cmd=[]);let t=this.core.dvtag.cmd;this.core.dvtag.cmd={push:(...e)=>{for(let r of e)try{r()}catch(o){}return this.size+=e.length,this.size}},this.core.dvtag.cmd.push(...t)})}};i(z,"CommandBuffer"),u([H],z.prototype,"_initialize",1),z=u([f],z);var j=class{_defineSlot(t,e={}){this.core.get(b).createSlot("custom",0,t,Q(G({},e),{sizes:J(e.sizes)}))}};i(j,"DefineSlot"),u([Y("defineSlot")],j.prototype,"_defineSlot",1),j=u([f],j);var F=class{_getTargeting(t){var r;let e=this.core.get(b);if(t==null)return e.getUptPageTargeting();{let o=e.getSlot("custom",t);return(r=o==null?void 0:o.getUptTargeting())!=null?r:e.getUptPageTargeting()}}};i(F,"GetTargeting"),u([Y("getTargeting")],F.prototype,"_getTargeting",1),F=u([f],F);var tt=class{};i(tt,"HouseHold"),tt=u([f,q(v),q(z),q(j),q(F),q(w),q(N)],tt);if(window.dvtag==null||window.dvtag._core==null)try{new nt(Ut,window)}catch(n){}})();

/*hammerhead|script|end*/