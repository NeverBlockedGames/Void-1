/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
(()=>{"use strict";var i={606:function(i,e){var n=this&&this.__awaiter||function(i,e,n,t){return new(n||(n=Promise))((function(o,r){function d(i){try{g(t.next(i))}catch(i){r(i)}}function s(i){try{g(t.throw(i))}catch(i){r(i)}}function g(i){var e;i.done?o(i.value):(e=i.value,e instanceof n?e:new n((function(i){i(e)}))).then(d,s)}g((t=t.apply(i,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.isDebugModeOn=e.UidSecureSignalProvider=void 0,e.UidSecureSignalProvider=class{constructor(i=!1,e=!1){this.registerSecureSignalProvider=()=>{const i=this.retrieveAdvertisingTokenHandler();i?(window.googletag=window.googletag||{cmd:[]},window.googletag.secureSignalProviders=window.googletag.secureSignalProviders||[],window.googletag.secureSignalProviders.push({id:this.isEuid?"euid.eu":"uidapi.com",collectorFunction:()=>n(this,void 0,void 0,(function*(){this.logging("collectorFunction invoked");const e=yield this.getUidAdvertisingTokenWithRetry(i);return this.logging(`collectorFunction pushes: ${e}`),e}))})):console.warn("UidSecureSignal: Please implement `getUidAdvertisingToken`")},this.logging=i=>{this.debug&&console.log(`UidSecureSignal: ${i}`)},this.retrieveAdvertisingTokenHandler=()=>{if(this.isEuid){if("function"==typeof window.getEuidAdvertisingToken)return window.getEuidAdvertisingToken;if(window.__euid&&"getAdvertisingTokenAsync"in window.__euid)return window.__euid.getAdvertisingTokenAsync.bind(window.__euid)}else{if("function"==typeof window.getUid2AdvertisingToken)return window.getUid2AdvertisingToken;if(window.__uid2&&"getAdvertisingTokenAsync"in window.__uid2)return window.__uid2.getAdvertisingTokenAsync.bind(window.__uid2)}},this.getUidAdvertisingTokenWithRetry=(i,e=3)=>{let t=this;return new Promise(((o,r)=>n(this,void 0,void 0,(function*(){let d=0;!function s(g){return n(this,void 0,void 0,(function*(){var n;if(d>=e)return null===(n=window.__uid2SecureSignalProvider)||void 0===n||n.logging(`getUidAdvertisingTokenWithRetry failed with error after retry: ${g}`),void r(g);d++;try{const e=yield i();t.logging(`getUidAdvertisingTokenWithRetry resolved with: ${e}`),o(e)}catch(i){t.logging(`getUidAdvertisingTokenWithRetry failed with error: ${i}`),s(i)}}))}()}))))},this.debug=i,this.isEuid=e,(!this.isEuid&&"function"==typeof window.getUid2AdvertisingToken||this.isEuid&&"function"==typeof window.getEuidAdvertisingToken)&&(this.logging("register SecureSignalProvider"),this.registerSecureSignalProvider())}},e.isDebugModeOn=function(i){var e;const n= new URLSearchParams(__get$(window,"location").search) .get("uid2_ss_debug");return"TRUE"===(null==n?void 0:n.toLocaleUpperCase())||(null===(e=document.currentScript)||void 0===e?void 0:e.src.startsWith(i))}}},e={};function n(t){var o= __get$(e,t) ;if(void 0!==o)return o.exports;var r= __set$(e,t,{exports:{}}) ;return  __get$(i,t) .call(r.exports,r,r.exports,n),r.exports}(()=>{const i=n(606);var e;window.__uid2SecureSignalProvider=new i.UidSecureSignalProvider((0,i.isDebugModeOn)("https://cdn.integ.uidapi.com/")),window.__uid2=window.__uid2||{callbacks:[]},null===(e=window.__uid2.callbacks)||void 0===e||e.push((i=>{"SdkLoaded"===i&&window.__uid2SecureSignalProvider.registerSecureSignalProvider()}))})()})();
/*hammerhead|script|end*/